{"ast":null,"code":"import _toConsumableArray from \"/home/adamadziev/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/projects on GitHub/react-foodhub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/adamadziev/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/projects on GitHub/react-foodhub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/adamadziev/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/projects on GitHub/react-foodhub/src/pages/Menu/index.jsx\";\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { DishCard } from \"../../components/DishCard\";\nimport { Skeleton } from \"../../components/DishCard/Skeleton\";\nimport { Categories } from \"../../components/Categories\";\nimport { Sort } from \"../../components/Sort\";\nimport { Footer } from \"../../components/Footer\";\nimport { Header } from \"../../components/Header\";\nimport { categoryList, sortList } from \"../../data\";\nimport \"./Menu.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setDishes } from \"../../redux/actions/dishes\"; // import { connect } from \"react-redux\";\n// import store from \"../../redux/store\";\n// import { setItems } from \"../../redux/actions/dishes\";\n// console.log(store.dispatch(setItems([1, 2, 3]))); // dispatch нужен для того чтобы наша функция дошла до хранилища\n\nexport var Menu = function Menu() {\n  var dishes = useSelector(function (state) {\n    return state.dishes;\n  });\n  var dispatch = useDispatch(); // const [dishes, setDishes] = React.useState([]);\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      searchInput = _React$useState2[0],\n      setSearchInput = _React$useState2[1];\n\n  var _React$useState3 = React.useState(1),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      categoryId = _React$useState4[0],\n      setCategoryId = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      sortId = _React$useState6[0],\n      setSortId = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      categoriesPopupOpen = _React$useState8[0],\n      setCategoriesPopupOpen = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      sortPopupOpen = _React$useState10[0],\n      setSortPopupOpen = _React$useState10[1];\n\n  var _React$useState11 = React.useState(1),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      currentPage = _React$useState12[0],\n      setCurrentPage = _React$useState12[1];\n\n  var limitOnPage = 12;\n  React.useEffect(function () {\n    axios.get(\"https://62c1dce62af60be89ecefccf.mockapi.io/react-foodhub_dishes\").then(function (res) {\n      dispatch(setDishes(res.data));\n    });\n  }, []);\n  React.useEffect(function () {\n    window.scrollTo(0, 0);\n  }, [categoryId, sortId, searchInput]);\n  React.useEffect(function () {\n    document.addEventListener(\"scroll\", scrollHandler);\n    return function () {\n      document.removeEventListener(\"scroll\", scrollHandler);\n    };\n  }); // // Фильтруем данные через бэкенд\n  // React.useEffect(() => {\n  //   axios\n  //     .get(\n  //       `https://62c1dce62af60be89ecefccf.mockapi.io/react-foodhub_dishes?categoryId=${categoryId}&sortBy=${sortList[sortId].property}&order=${sortList[sortId].order}`\n  //     )\n  //     .then((res) => setDishes(res.data));\n  // }, [categoryId, sortId]);\n  // Сделал dishesFilter и dishesRender чтоб мог сравнить их длину между\n  // собой(если они равны значит все dishes подгружены) и не обновлять лишний раз currentPage\n\n  var dishesFilter = dishes.items.filter(function (item) {\n    return item.categoryId.includes(categoryId) && item.name.toLowerCase().includes(searchInput.toLowerCase());\n  }).sort(function (a, b) {\n    if (sortList[sortId].property === \"title\") {\n      return a.name > b.name ? 1 : -1;\n    } else if (sortList[sortId].property === \"price\" && sortList[sortId].order === \"desc\") {\n      return a.price < b.price ? 1 : -1;\n    } else if (sortList[sortId].property === \"price\") {\n      return a.price > b.price ? 1 : -1;\n    }\n  }).map(function (item) {\n    return /*#__PURE__*/React.createElement(DishCard, {\n      key: item.id,\n      id: item.id,\n      name: item.name,\n      imgUrl: item.imgUrl,\n      hotOrVegan: item.hotOrVegan && item.hotOrVegan,\n      price: item.price,\n      ingredients: item.ingredients,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    });\n  });\n  var dishesRender = dishesFilter.slice(0, limitOnPage * currentPage);\n\n  var skeletons = _toConsumableArray(Array(10)).map(function (_, i) {\n    return /*#__PURE__*/React.createElement(Skeleton, {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 50\n      }\n    });\n  });\n\n  var scrollHandler = function scrollHandler(e) {\n    var pageTotalHeight = e.target.documentElement.scrollHeight; // Полная высота страницы страницы с учетом прокрутки\n\n    var visibleArea = e.target.documentElement.scrollTop; // Кол-во пикселей прокрученные от верха элемента\n\n    var viewportHeight = window.innerHeight; // Высота видимого экрана\n\n    if (pageTotalHeight - (visibleArea + viewportHeight) < 300) {\n      if (dishesRender.length !== dishesFilter.length) {\n        setCurrentPage(function (prev) {\n          return prev + 1;\n        });\n      }\n    }\n  };\n\n  var onClickCategoriesPopup = function onClickCategoriesPopup() {\n    setCategoriesPopupOpen(function (prev) {\n      return !prev;\n    });\n  };\n\n  var onClickSortPopup = function onClickSortPopup() {\n    setSortPopupOpen(function (prev) {\n      return !prev;\n    });\n  };\n\n  var onChangeSearchInput = function onChangeSearchInput(e) {\n    setSearchInput(e.target.value);\n    setCategoryId(0);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"menu\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, \"\\u041C\\u0435\\u043D\\u044E\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-grid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left-side-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left-side\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Categories, {\n    categoryId: categoryId,\n    setCategoryId: setCategoryId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sort\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u043E:\"), /*#__PURE__*/React.createElement(Sort, {\n    sortId: sortId,\n    setSortId: setSortId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right-side\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"choosed-category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-block-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }, categoryList[categoryId].name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: searchInput,\n    onChange: onChangeSearchInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"search\" // enablBackground=\"new 0 0 32 32\"\n    ,\n    id: \"EditableLine\",\n    version: \"1.1\",\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"14\",\n    fill: \"none\",\n    id: \"XMLID_42_\",\n    r: \"9\",\n    stroke: \"#000000\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: \"10\",\n    strokeWidth: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    id: \"XMLID_44_\",\n    stroke: \"#000000\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: \"10\",\n    strokeWidth: \"2\",\n    x1: \"27\",\n    x2: \"20.366\",\n    y1: \"27\",\n    y2: \"20.366\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"search-clear\",\n    onClick: function onClick() {\n      return setSearchInput(\"\");\n    },\n    viewBox: \"0 0 20 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 23\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categories-sort active\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categories-popup-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 23\n    }\n  }, \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F:\"), \" \", /*#__PURE__*/React.createElement(\"small\", {\n    onClick: onClickCategoriesPopup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 23\n    }\n  }, categoryList[categoryId].name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categories-popup \".concat(categoriesPopupOpen && \"active\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Categories, {\n    categoryId: categoryId,\n    setCategoryId: setCategoryId,\n    setCategoriesPopupOpen: setCategoriesPopupOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sort-popup-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 23\n    }\n  }, \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u043E:\"), \" \", /*#__PURE__*/React.createElement(\"small\", {\n    onClick: onClickSortPopup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 23\n    }\n  }, sortList[sortId].name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sort-popup \".concat(sortPopupOpen && \"active\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Sort, {\n    sortId: sortId,\n    setSortId: setSortId,\n    setSortPopupOpen: setSortPopupOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 23\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-products-grid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, dishes.isLoaded ? dishesRender : skeletons))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }\n  }));\n};\nexport default Menu; // // Будет вызываться при каждом обновлении нашего хранилища(store) и делать ре-рендер\n// const mapStateToProps = (state) => {\n//   return {\n//     dishes: state.dishes.items, // если items изменится, компонент сделает ре-рендер\n//   };\n// };\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     setEda: (dishes) => dispatch(setItems(dishes)),\n//   };\n// };\n// export default connect(mapStateToProps, mapDispatchToProps)(Menu);","map":{"version":3,"names":["React","axios","DishCard","Skeleton","Categories","Sort","Footer","Header","categoryList","sortList","useSelector","useDispatch","setDishes","Menu","dishes","state","dispatch","useState","searchInput","setSearchInput","categoryId","setCategoryId","sortId","setSortId","categoriesPopupOpen","setCategoriesPopupOpen","sortPopupOpen","setSortPopupOpen","currentPage","setCurrentPage","limitOnPage","useEffect","get","then","res","data","window","scrollTo","document","addEventListener","scrollHandler","removeEventListener","dishesFilter","items","filter","item","includes","name","toLowerCase","sort","a","b","property","order","price","map","id","imgUrl","hotOrVegan","ingredients","dishesRender","slice","skeletons","Array","_","i","e","pageTotalHeight","target","documentElement","scrollHeight","visibleArea","scrollTop","viewportHeight","innerHeight","length","prev","onClickCategoriesPopup","onClickSortPopup","onChangeSearchInput","value","isLoaded"],"sources":["/home/adamadziev/Рабочий стол/projects on GitHub/react-foodhub/src/pages/Menu/index.jsx"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { DishCard } from \"../../components/DishCard\";\r\nimport { Skeleton } from \"../../components/DishCard/Skeleton\";\r\nimport { Categories } from \"../../components/Categories\";\r\nimport { Sort } from \"../../components/Sort\";\r\nimport { Footer } from \"../../components/Footer\";\r\nimport { Header } from \"../../components/Header\";\r\n\r\nimport { categoryList, sortList } from \"../../data\";\r\n\r\nimport \"./Menu.css\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setDishes } from \"../../redux/actions/dishes\";\r\n\r\n// import { connect } from \"react-redux\";\r\n// import store from \"../../redux/store\";\r\n// import { setItems } from \"../../redux/actions/dishes\";\r\n\r\n// console.log(store.dispatch(setItems([1, 2, 3]))); // dispatch нужен для того чтобы наша функция дошла до хранилища\r\n\r\nexport const Menu = () => {\r\n  const dishes = useSelector((state) => state.dishes);\r\n  const dispatch = useDispatch();\r\n\r\n  // const [dishes, setDishes] = React.useState([]);\r\n  const [searchInput, setSearchInput] = React.useState(\"\");\r\n\r\n  const [categoryId, setCategoryId] = React.useState(1);\r\n  const [sortId, setSortId] = React.useState(0);\r\n\r\n  const [categoriesPopupOpen, setCategoriesPopupOpen] = React.useState(false);\r\n  const [sortPopupOpen, setSortPopupOpen] = React.useState(false);\r\n\r\n  const [currentPage, setCurrentPage] = React.useState(1);\r\n\r\n  const limitOnPage = 12;\r\n\r\n  React.useEffect(() => {\r\n    axios\r\n      .get(`https://62c1dce62af60be89ecefccf.mockapi.io/react-foodhub_dishes`)\r\n      .then((res) => {\r\n        dispatch(setDishes(res.data));\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [categoryId, sortId, searchInput]);\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"scroll\", scrollHandler);\r\n\r\n    return function () {\r\n      document.removeEventListener(\"scroll\", scrollHandler);\r\n    };\r\n  });\r\n\r\n  // // Фильтруем данные через бэкенд\r\n  // React.useEffect(() => {\r\n  //   axios\r\n  //     .get(\r\n  //       `https://62c1dce62af60be89ecefccf.mockapi.io/react-foodhub_dishes?categoryId=${categoryId}&sortBy=${sortList[sortId].property}&order=${sortList[sortId].order}`\r\n  //     )\r\n  //     .then((res) => setDishes(res.data));\r\n  // }, [categoryId, sortId]);\r\n\r\n  // Сделал dishesFilter и dishesRender чтоб мог сравнить их длину между\r\n  // собой(если они равны значит все dishes подгружены) и не обновлять лишний раз currentPage\r\n  const dishesFilter = dishes.items\r\n    .filter(\r\n      (item) =>\r\n        item.categoryId.includes(categoryId) &&\r\n        item.name.toLowerCase().includes(searchInput.toLowerCase())\r\n    )\r\n    .sort((a, b) => {\r\n      if (sortList[sortId].property === \"title\") {\r\n        return a.name > b.name ? 1 : -1;\r\n      } else if (\r\n        sortList[sortId].property === \"price\" &&\r\n        sortList[sortId].order === \"desc\"\r\n      ) {\r\n        return a.price < b.price ? 1 : -1;\r\n      } else if (sortList[sortId].property === \"price\") {\r\n        return a.price > b.price ? 1 : -1;\r\n      }\r\n    })\r\n    .map((item) => {\r\n      return (\r\n        <DishCard\r\n          key={item.id}\r\n          id={item.id}\r\n          name={item.name}\r\n          imgUrl={item.imgUrl}\r\n          hotOrVegan={item.hotOrVegan && item.hotOrVegan}\r\n          price={item.price}\r\n          ingredients={item.ingredients}\r\n        />\r\n      );\r\n    });\r\n\r\n  const dishesRender = dishesFilter.slice(0, limitOnPage * currentPage);\r\n  const skeletons = [...Array(10)].map((_, i) => <Skeleton key={i} />);\r\n\r\n  const scrollHandler = (e) => {\r\n    const pageTotalHeight = e.target.documentElement.scrollHeight; // Полная высота страницы страницы с учетом прокрутки\r\n    const visibleArea = e.target.documentElement.scrollTop; // Кол-во пикселей прокрученные от верха элемента\r\n    const viewportHeight = window.innerHeight; // Высота видимого экрана\r\n\r\n    if (pageTotalHeight - (visibleArea + viewportHeight) < 300) {\r\n      if (dishesRender.length !== dishesFilter.length) {\r\n        setCurrentPage((prev) => prev + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onClickCategoriesPopup = () => {\r\n    setCategoriesPopupOpen((prev) => !prev);\r\n  };\r\n\r\n  const onClickSortPopup = () => {\r\n    setSortPopupOpen((prev) => !prev);\r\n  };\r\n\r\n  const onChangeSearchInput = (e) => {\r\n    setSearchInput(e.target.value);\r\n    setCategoryId(0);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <main>\r\n        <section className=\"menu\">\r\n          <h1>Меню</h1>\r\n          <div className=\"menu-grid\">\r\n            <div className=\"left-side-container\">\r\n              <h3 className=\"text-category\">Категории</h3>\r\n              <div className=\"left-side\">\r\n                <Categories\r\n                  categoryId={categoryId}\r\n                  setCategoryId={setCategoryId}\r\n                />\r\n                <div className=\"sort\">\r\n                  <h3>Сортировать по:</h3>\r\n                  <Sort sortId={sortId} setSortId={setSortId} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"right-side\">\r\n              <div className=\"choosed-category\">\r\n                <div className=\"search-block-container\">\r\n                  <h1>{categoryList[categoryId].name}</h1>\r\n                  <div className=\"search-block\">\r\n                    <input value={searchInput} onChange={onChangeSearchInput} />\r\n                    <svg\r\n                      className=\"search\"\r\n                      // enablBackground=\"new 0 0 32 32\"\r\n                      id=\"EditableLine\"\r\n                      version=\"1.1\"\r\n                      viewBox=\"0 0 32 32\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <circle\r\n                        cx=\"14\"\r\n                        cy=\"14\"\r\n                        fill=\"none\"\r\n                        id=\"XMLID_42_\"\r\n                        r=\"9\"\r\n                        stroke=\"#000000\"\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeMiterlimit=\"10\"\r\n                        strokeWidth=\"2\"\r\n                      ></circle>\r\n                      <line\r\n                        fill=\"none\"\r\n                        id=\"XMLID_44_\"\r\n                        stroke=\"#000000\"\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeMiterlimit=\"10\"\r\n                        strokeWidth=\"2\"\r\n                        x1=\"27\"\r\n                        x2=\"20.366\"\r\n                        y1=\"27\"\r\n                        y2=\"20.366\"\r\n                      ></line>\r\n                    </svg>\r\n                    <svg\r\n                      className=\"search-clear\"\r\n                      onClick={() => setSearchInput(\"\")}\r\n                      viewBox=\"0 0 20 20\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n                <div className=\"categories-sort active\">\r\n                  <div className=\"categories-popup-container\">\r\n                    <p>\r\n                      <b>Категория:</b>{\" \"}\r\n                      <small onClick={onClickCategoriesPopup}>\r\n                        {categoryList[categoryId].name}\r\n                      </small>\r\n                    </p>\r\n                    <div\r\n                      className={`categories-popup ${\r\n                        categoriesPopupOpen && \"active\"\r\n                      }`}\r\n                    >\r\n                      <Categories\r\n                        categoryId={categoryId}\r\n                        setCategoryId={setCategoryId}\r\n                        setCategoriesPopupOpen={setCategoriesPopupOpen}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"sort-popup-container\">\r\n                    <p>\r\n                      <b>Сортировать по:</b>{\" \"}\r\n                      <small onClick={onClickSortPopup}>\r\n                        {sortList[sortId].name}\r\n                      </small>\r\n                    </p>\r\n                    <div className={`sort-popup ${sortPopupOpen && \"active\"}`}>\r\n                      <Sort\r\n                        sortId={sortId}\r\n                        setSortId={setSortId}\r\n                        setSortPopupOpen={setSortPopupOpen}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"menu-products-grid\">\r\n                {dishes.isLoaded ? dishesRender : skeletons}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n\r\n// // Будет вызываться при каждом обновлении нашего хранилища(store) и делать ре-рендер\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     dishes: state.dishes.items, // если items изменится, компонент сделает ре-рендер\r\n//   };\r\n// };\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     setEda: (dishes) => dispatch(setItems(dishes)),\r\n//   };\r\n// };\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}